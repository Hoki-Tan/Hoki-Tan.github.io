import{p as T,i as A,q as M,_ as F,m as j,s as N,r as G,t as O,v as W,w as U,x as J,e as K,f as Q}from"./app.MJTB4mgM.js";import"./chunks/@vueuse/motion.ChokKGFY.js";import{R as f,ac as r,ab as s,af as i,ag as C,a8 as q,ae as p,D as g,G as D,ah as $,aa as b,ap as Y,aj as v,O as a,ak as E,U as k,al as P,_ as c,ao as I,M as w,a9 as X}from"./framework.CzqXvcaZ.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as Z}from"./chunks/vue-i18n.DKUSMKgm.js";import{g as H}from"./animation.Bld2ewst.js";import{u as ee}from"./chunks/vue-router.CrZ28bhR.js";import"./chunks/pinia.BnQGIDvb.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";const te={class:"w-full px-4 flex-center"},ne={class:"yun-notice w-full"},se=["innerHTML"],oe=f({__name:"YunNotice",props:{content:{}},setup(u){return(e,t)=>(s(),r("div",te,[i("div",ne,[i("span",{innerHTML:e.content},null,8,se),C(e.$slots,"default")])]))}}),ae={},re={class:"grid-bg"};function ie(u,e){return s(),r("div",re,[p(" <YunAEFrame /> "),p(" <YunAERect /> ")])}const ce=q(ae,[["render",ie]]),le={class:"say",style:{color:"rgb(255,228,225)"}},ue={key:0,class:"say-content animate-fade-in animate-iteration-1"},_e={key:1,class:"say-author"},pe={key:2,class:"say-from"},me=f({__name:"YunSay",setup(u){const e=T(),t=g(""),n=g(""),o=g("");function _(){const l=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;l&&fetch(l).then(m=>{if(m.ok)m.json().then(d=>{if(e.value.say.hitokoto.enable)t.value=d.hitokoto,n.value=d.from_who,o.value=d.from;else{const h=d[Math.floor(Math.random()*d.length)];h.content?(t.value=h.content,n.value=h.author,o.value=h.from):t.value=h}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${m.status}`)}).catch(m=>{console.error(m.message)})}return D(()=>{_()}),(l,m)=>(s(),r("div",le,[t.value?(s(),r("span",ue,$(t.value),1)):p("v-if",!0),n.value?(s(),r("span",_e,$(n.value),1)):p("v-if",!0),o.value?(s(),r("span",pe,$(o.value),1)):p("v-if",!0)]))}}),fe=f({__name:"YunSiteLinkItem",props:{page:{}},setup(u){const{$t:e}=A(),t=M();return(n,o)=>{const _=F;return s(),b(_,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:n.page.url,title:a(e)(n.page.name),style:E(`color:${n.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:o[0]||(o[0]=l=>a(t).fullscreenMenu.isOpen=!1)},{default:Y(()=>[i("div",{class:v([n.page.icon,"icon"])},null,2),i("span",null,$(a(e)(n.page.name)),1)]),_:1},8,["to","title","style"])}}}),de={key:0,style:{color:"pink"},class:"site-description text-$va-c-text text-sm"},he=f({__name:"YunSiteDescription",setup(u){const e=j(),{$t:t}=A();return(n,o)=>a(e).description?(s(),r("div",de,$(a(t)(a(e).description)),1)):p("v-if",!0)}}),ve={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},ye=f({__name:"YunSiteSubtitle",setup(u){const{$t:e}=A(),t=j();return(n,o)=>a(t).subtitle?(s(),r("h4",ve,$(a(e)(a(t).subtitle)),1)):p("v-if",!0)}}),be=f({__name:"YunAnimLineDraw",setup(u){const e=g(!1);return D(()=>{e.value=!0}),(t,n)=>(s(),r("div",{class:v(["line",{enter:e.value}])},null,2))}}),ge=q(be,[["__scopeId","data-v-0fe0cfb4"]]),$e={key:0,class:"site-author-intro",m:"t-0 b-4"},ke=f({__name:"YunAuthorIntro",setup(u){const e=j(),{$t:t}=A();return(n,o)=>a(e).author.intro?(s(),r("div",$e,$(a(t)(a(e).author.intro)),1)):p("v-if",!0)}}),we={key:0,class:"line-burst-effects absolute"},xe=f({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(u){const e=u,t=g(!0);return D(async()=>{await N(e.delay),t.value=!1,await N(e.duration),t.value=!0}),(n,o)=>t.value?p("v-if",!0):(s(),r("div",we,[(s(),r(k,null,P(8,_=>i("div",{key:_,class:"line"},[...o[0]||(o[0]=[i("div",null,[i("span")],-1)])])),64))]))}}),Ye={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},Se={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},Ce={class:"py-4 md:py-5 lg:pt-6",style:{color:"white"}},Ae={flex:"~ col",class:"gap-2 items-center justify-center"},Be={class:"scale-x--100 py-4 md:py-5 lg:pb-6",style:{color:"white"}},Le={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},Ne=f({__name:"YunPrologueSquare",setup(u){const e=T(),{t}=Z(),n=g(!1);return(o,_)=>{const l=xe,m=G,d=O,h=ke,y=ge,B=W,x=ye,S=he,z=U,L=fe;return s(),r("div",Ye,[C(o.$slots,"default",{},void 0,!0),i("div",{flex:"~ col center",class:v(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:n.value}])},[c(I,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:_[0]||(_[0]=V=>n.value=!0)},{default:Y(()=>[i("div",Se,[c(l,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),c(I,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:Y(()=>[c(m)]),_:1})])]),_:1}),i("div",{class:v(["info",{show:n.value}])},[c(d,{class:"mt-3",style:{color:"white"}}),c(h),i("div",Ce,[c(y)]),i("div",Ae,[c(B,{style:{color:"white"}}),c(x,{style:{color:"white"}}),c(S)]),i("div",Be,[c(y)]),c(z),i("div",Le,[c(L,{page:{name:a(t)("博客文章"),icon:"i-ri-article-line",url:"/posts/",color:"#ffe4e1"}},null,8,["page"]),C(o.$slots,"default",{},void 0,!0),(s(!0),r(k,null,P(a(e).pages,(V,R)=>(s(),b(L,{key:R,page:V},null,8,["page"]))),128))])],2)],2)])}}}),Ie=q(Ne,[["__scopeId","data-v-f2b7222b"]]),Te=f({__name:"YunGoDown",setup(u){return(e,t)=>(s(),r("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>a(H)&&a(H)(...n))},[...t[1]||(t[1]=[i("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])]))}}),De={class:"banner-char-container"},ze={class:"char"},Me=f({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(u){return(e,t)=>(s(),r("div",De,[(s(!0),r(k,null,P(e.title,(n,o)=>(s(),r("div",{key:o,class:"char-box"},[i("span",{class:v([o%2!==0?"char-right":"char-left"]),style:E({"--banner-char-size":`${e.chars[o]}rem`})},[i("span",ze,$(n),1)],6)]))),128))]))}});function je(u){const{$tO:e}=A(),t=w(()=>Array.isArray(u.title)?u.title:e(u.title)),n=w(()=>{const _=[];for(let l=0;l<t.value.length;l++){const m=J(1.5,3.5);_.push(m)}return _}),o=w(()=>n.value.reduce((_,l)=>_+l,0));return{bannerTitle:t,chars:n,totalCharHeight:o}}const qe={class:"banner-line-container"},Ee={class:"banner-line-container bottom"},Pe=f({__name:"YunBanner",setup(u){const e=M(),t=T(),{totalCharHeight:n,chars:o,bannerTitle:_}=je(t.value.banner),l=w(()=>{const y={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(y.borderBottom="1px solid var(--banner-line-color)"),y}),m=g("enter"),d=w(()=>m.value),h=g("banner");return D(async()=>{await N(500),m.value="active",e.isNimbo&&(await N(t.value.banner.duration||500),m.value="exit",h.value="prologue")}),(y,B)=>{const x=Me,S=Te;return s(),r("div",{id:"yun-banner",border:"b-1px b-solid b-$banner-line-color",style:E(l.value)},[i("div",qe,[i("div",{class:v(["banner-line vertical-line-top",d.value])},null,2)]),a(e).isNimbo?(s(),r(k,{key:0},[h.value==="banner"?(s(),b(x,{key:0,title:a(_),chars:a(o)},null,8,["title","chars"])):p("v-if",!0)],64)):p("v-if",!0),a(e).isStrato?(s(),b(x,{key:1,title:a(_),chars:a(o)},null,8,["title","chars"])):p("v-if",!0),i("div",Ee,[i("div",{class:v(["banner-line vertical-line-bottom",d.value])},null,2)]),c(S)],4)}}}),Ve={class:"w-full"},He={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},Re={key:1,class:"h-$yun-nav-height"},et=f({__name:"home",setup(u){const e=M(),t=ee(),n=T(),o=w(()=>t.path.startsWith("/page")),_=w(()=>{const l=n.value.notice;return l.enable&&(o.value?!l.hideInPages:!0)});return(l,m)=>{const d=Pe,h=Ie,y=me,B=ce,x=oe,S=X("RouterView"),z=K,L=Q;return s(),r(k,null,[c(z,{class:v(["items-center flex-col",{"mt-0!":!o.value}])},{default:Y(()=>[a(n).banner.enable?(s(),r(k,{key:0},[o.value?p("v-if",!0):(s(),r(k,{key:0},[i("div",Ve,[c(d),a(e).isNimbo?(s(),b(I,{key:0,"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:Y(()=>[i("div",He,[c(I,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:Y(()=>[c(h,{class:"z-1"})]),_:1})])]),_:1})):p("v-if",!0),a(n).say.enable?(s(),b(y,{key:1,w:"full"})):p("v-if",!0)]),a(e).isNimbo?(s(),b(B,{key:0,class:"absolute left-0 top-0 right-0 bottom-0"})):p("v-if",!0)],64))],64)):(s(),r("div",Re)),_.value?(s(),b(x,{key:2,class:v(["mb-2 md:mb-6",{"mt-4":!o.value}]),content:a(n).notice.content},null,8,["class","content"])):p("v-if",!0),C(l.$slots,"board"),C(l.$slots,"default",{},()=>[c(S)])]),_:3},8,["class"]),c(L)],64)}}});export{et as default};
